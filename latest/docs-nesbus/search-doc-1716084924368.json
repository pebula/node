{"searchDocs":[{"title":"index","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/","content":"","keywords":"","version":"Next"},{"title":"API Reference​","type":1,"pageTitle":"index","url":"/node/nesbus/docs/api-docs/#api-reference","content":" ","version":"Next","tagName":"h2"},{"title":"Packages​","type":1,"pageTitle":"index","url":"/node/nesbus/docs/api-docs/#packages","content":" Package Description @pebula/nesbus  ","version":"Next","tagName":"h2"},{"title":"nesbus.metaormetafactory","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.metaormetafactory","content":"","keywords":"","version":"Next"},{"title":"MetaOrMetaFactory type​","type":1,"pageTitle":"nesbus.metaormetafactory","url":"/node/nesbus/docs/api-docs/nesbus.metaormetafactory#metaormetafactory-type","content":" Signature:  export type MetaOrMetaFactory&lt;T&gt; = T | ((helper?: any) =&gt; (T | Promise&lt;T&gt;));  ","version":"Next","tagName":"h2"},{"title":"nesbus.queue","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.queue","content":"","keywords":"","version":"Next"},{"title":"Queue() function​","type":1,"pageTitle":"nesbus.queue","url":"/node/nesbus/docs/api-docs/nesbus.queue#queue-function","content":" Subscribes to incoming events from a queue  Signature:  export declare function Queue&lt;T = false&gt;(metadata: MetaOrMetaFactory&lt;SbQueueMetadataOptions&gt;): PropOrMethodDecorator&lt;T, MethodDecorator&gt;;   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.queue","url":"/node/nesbus/docs/api-docs/nesbus.queue#parameters","content":" Parameter Type Description metadata MetaOrMetaFactory&lt;SbQueueMetadataOptions&gt;   Returns:  PropOrMethodDecorator&lt;T, MethodDecorator&gt; ","version":"Next","tagName":"h2"},{"title":"nesbus.createsbserver","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.createsbserver","content":"","keywords":"","version":"Next"},{"title":"createSbServer() function​","type":1,"pageTitle":"nesbus.createsbserver","url":"/node/nesbus/docs/api-docs/nesbus.createsbserver#createsbserver-function","content":" Create or returns and existing server.  This is for use on the strategy property option when creating a microservice.  Signature:  export declare function createSbServer(serverId?: string): SbServer;   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.createsbserver","url":"/node/nesbus/docs/api-docs/nesbus.createsbserver#parameters","content":" Parameter Type Description serverId string (Optional)  Returns:  SbServer ","version":"Next","tagName":"h2"},{"title":"nesbus.sbcontext","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext","content":"","keywords":"","version":"Next"},{"title":"SbContext class​","type":1,"pageTitle":"nesbus.sbcontext","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext#sbcontext-class","content":" Signature:  export declare class SbContext&lt;T extends keyof SbSubscriberTypeMap = keyof SbSubscriberTypeMap&gt; extends BaseRpcContext&lt;SbContextArgs&lt;T&gt;&gt;   Extends: BaseRpcContext&lt;SbContextArgs&lt;T&gt;&gt;  ","version":"Next","tagName":"h2"},{"title":"Constructors​","type":1,"pageTitle":"nesbus.sbcontext","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext#constructors","content":" Constructor Modifiers Description (constructor)(args, receiver) Constructs a new instance of the SbContext class  ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbcontext","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext#properties","content":" Property Modifiers Type Description type readonly T   ","version":"Next","tagName":"h2"},{"title":"Methods​","type":1,"pageTitle":"nesbus.sbcontext","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext#methods","content":" Method Modifiers Description entityName() The entity name used to identify subscription/queue in service bus getData() getMessage() getReceiver() resolveClient(emitterReference) Try to resolves a client (queue or topic emitter/sender) based on the entity name. If an entity reference is not provided, the default reference is the entity used to emit messages to this subscriber. If this is a queue subscriber, it will be a queue emitter. If this is a subscription, it will be the topic of the subscription. &gt; You can also provide a clientId to look the entity in. ","version":"Next","tagName":"h2"},{"title":"nesbus.sbcontext._constructor_","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext._constructor_","content":"","keywords":"","version":"Next"},{"title":"SbContext.(constructor)​","type":1,"pageTitle":"nesbus.sbcontext._constructor_","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext._constructor_#sbcontextconstructor","content":" Constructs a new instance of the SbContext class  Signature:  constructor(args: SbContextArgs&lt;T&gt;, receiver: ServiceBusReceiver | ServiceBusSessionReceiver);   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.sbcontext._constructor_","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext._constructor_#parameters","content":" Parameter Type Description args SbContextArgs&lt;T&gt; receiver ServiceBusReceiver | ServiceBusSessionReceiver  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbcontext.entityname","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext.entityname","content":"","keywords":"","version":"Next"},{"title":"SbContext.entityName() method​","type":1,"pageTitle":"nesbus.sbcontext.entityname","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext.entityname#sbcontextentityname-method","content":" The entity name used to identify subscription/queue in service bus  Signature:  entityName(): string;   Returns:  string ","version":"Next","tagName":"h2"},{"title":"nesbus.queueemitter","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.queueemitter","content":"","keywords":"","version":"Next"},{"title":"QueueEmitter() function​","type":1,"pageTitle":"nesbus.queueemitter","url":"/node/nesbus/docs/api-docs/nesbus.queueemitter#queueemitter-function","content":" Subscribes to incoming events from a queue  Signature:  QueueEmitter: (metadata: MetaOrMetaFactory&lt;SbQueueEmitterMetadataOptions&gt;) =&gt; PropertyDecorator   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.queueemitter","url":"/node/nesbus/docs/api-docs/nesbus.queueemitter#parameters","content":" Parameter Type Description metadata MetaOrMetaFactory&lt;SbQueueEmitterMetadataOptions&gt;   Returns:  PropertyDecorator ","version":"Next","tagName":"h2"},{"title":"nesbus.sbcontext.getmessage","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext.getmessage","content":"","keywords":"","version":"Next"},{"title":"SbContext.getMessage() method​","type":1,"pageTitle":"nesbus.sbcontext.getmessage","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext.getmessage#sbcontextgetmessage-method","content":" Signature:  getMessage(): ServiceBusReceivedMessage;   Returns:  ServiceBusReceivedMessage ","version":"Next","tagName":"h2"},{"title":"nesbus.sbcontext.getreceiver","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext.getreceiver","content":"","keywords":"","version":"Next"},{"title":"SbContext.getReceiver() method​","type":1,"pageTitle":"nesbus.sbcontext.getreceiver","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext.getreceiver#sbcontextgetreceiver-method","content":" Signature:  getReceiver(): ServiceBusReceiver | ServiceBusSessionReceiver;   Returns:  ServiceBusReceiver | ServiceBusSessionReceiver ","version":"Next","tagName":"h2"},{"title":"nesbus.sbcontext.resolveclient","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext.resolveclient","content":"","keywords":"","version":"Next"},{"title":"nesbus.sbcontext.getdata","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext.getdata","content":"","keywords":"","version":"Next"},{"title":"SbContext.getData() method​","type":1,"pageTitle":"nesbus.sbcontext.getdata","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext.getdata#sbcontextgetdata-method","content":" Signature:  getData&lt;TBody = any&gt;(): TBody;   Returns:  TBody ","version":"Next","tagName":"h2"},{"title":"SbContext.resolveClient() method​","type":1,"pageTitle":"nesbus.sbcontext.resolveclient","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext.resolveclient#sbcontextresolveclient-method","content":" Try to resolves a client (queue or topic emitter/sender) based on the entity name.  If an entity reference is not provided, the default reference is the entity used to emit messages to this subscriber. If this is a queue subscriber, it will be a queue emitter. If this is a subscription, it will be the topic of the subscription.  &gt; You can also provide a clientId to look the entity in.  Signature:  resolveClient(emitterReference?: SbEmitterRef): SbEmitterImp | undefined;   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.sbcontext.resolveclient","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext.resolveclient#parameters","content":" Parameter Type Description emitterReference SbEmitterRef (Optional)  Returns:  SbEmitterImp | undefined ","version":"Next","tagName":"h2"},{"title":"nesbus.sbcorrelationfilter","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbcorrelationfilter","content":"","keywords":"","version":"Next"},{"title":"nesbus","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus","content":"","keywords":"","version":"Next"},{"title":"nesbus package​","type":1,"pageTitle":"nesbus","url":"/node/nesbus/docs/api-docs/nesbus#nesbus-package","content":" ","version":"Next","tagName":"h2"},{"title":"Classes​","type":1,"pageTitle":"nesbus","url":"/node/nesbus/docs/api-docs/nesbus#classes","content":" Class Description SbContext SbErrorEvent SbMessageErrorEvent ServiceBusModule   ","version":"Next","tagName":"h2"},{"title":"Abstract Classes​","type":1,"pageTitle":"nesbus","url":"/node/nesbus/docs/api-docs/nesbus#abstract-classes","content":" Abstract Class Description SbErrorHandler   ","version":"Next","tagName":"h2"},{"title":"Functions​","type":1,"pageTitle":"nesbus","url":"/node/nesbus/docs/api-docs/nesbus#functions","content":" Function Description createSbServer(serverId) Create or returns and existing server. This is for use on the strategy property option when creating a microservice. Queue(metadata) Subscribes to incoming events from a queue QueueEmitter(metadata) Subscribes to incoming events from a queue SbIntercept(interceptors) Subscription(metadata) Subscribes to incoming events from a topic Topic(metadata) Subscribes to incoming events from a topic  ","version":"Next","tagName":"h2"},{"title":"Interfaces​","type":1,"pageTitle":"nesbus","url":"/node/nesbus/docs/api-docs/nesbus#interfaces","content":" Interface Description SbEmitterImp Represents an object that can emit service bus message. (I.E a service bus Sender) SbEmitterMetadataOptions SbInterceptor SbManagementDefaultsAdapter SbModuleRegisterOptions SbQueueEmitterMetadataOptions SbQueueEntityProvision SbQueueMetadataOptions SbRuleEntityProvision SbSASCredentials SbServerOptions SbSubscriberMetadataOptions SbSubscriptionMetadataOptions SbTokenCredentials SbTopicEntityProvision SbTopicMetadataOptions SbTopicSubscriptionEntityProvision   ","version":"Next","tagName":"h2"},{"title":"Type Aliases​","type":1,"pageTitle":"nesbus","url":"/node/nesbus/docs/api-docs/nesbus#type-aliases","content":" Type Alias Description MetaOrMetaFactory SbContextArgs SbCorrelationFilter SbEmitterRef A Reference to an existing client emitter. This is basically a query to get the service bus Sender instance for the client registered at the queue / topic name. Note that if you're using unique client name you can also provide the specific client id to target. Type (topic/queue) is irrelevant because in any case two identical entities can not share the same name event if they are of different type. SbEntityProvisionOption SbMessageEmitter Represents an object that can be used (directly or indirectly) to emit messages to service bus. This can be either a directly emitting object or a reference that is used to resolve a directly emitting object. SbQueue SbRule SbSqlFilter SbSubscription SbTopic  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbcontext.type","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext.type","content":"","keywords":"","version":"Next"},{"title":"SbContext.type property​","type":1,"pageTitle":"nesbus.sbcontext.type","url":"/node/nesbus/docs/api-docs/nesbus.sbcontext.type#sbcontexttype-property","content":" Signature:  get type(): T;  ","version":"Next","tagName":"h2"},{"title":"SbCorrelationFilter type​","type":1,"pageTitle":"nesbus.sbcorrelationfilter","url":"/node/nesbus/docs/api-docs/nesbus.sbcorrelationfilter#sbcorrelationfilter-type","content":" Signature:  export type SbCorrelationFilter = Partial&lt;CorrelationRuleFilter&gt;;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbemitterimp.sendmessages","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbemitterimp.sendmessages","content":"","keywords":"","version":"Next"},{"title":"SbEmitterImp.sendMessages() method​","type":1,"pageTitle":"nesbus.sbemitterimp.sendmessages","url":"/node/nesbus/docs/api-docs/nesbus.sbemitterimp.sendmessages#sbemitterimpsendmessages-method","content":" Signature:  sendMessages(messages: ServiceBusMessage | ServiceBusMessage[] | ServiceBusMessageBatch | AmqpAnnotatedMessage | AmqpAnnotatedMessage[], options?: OperationOptionsBase): Promise&lt;void&gt;;   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.sbemitterimp.sendmessages","url":"/node/nesbus/docs/api-docs/nesbus.sbemitterimp.sendmessages#parameters","content":" Parameter Type Description messages ServiceBusMessage | ServiceBusMessage[] | ServiceBusMessageBatch | AmqpAnnotatedMessage | AmqpAnnotatedMessage[] options OperationOptionsBase (Optional)  Returns:  Promise&lt;void&gt; ","version":"Next","tagName":"h2"},{"title":"nesbus.sbcontextargs","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbcontextargs","content":"","keywords":"","version":"Next"},{"title":"SbContextArgs type​","type":1,"pageTitle":"nesbus.sbcontextargs","url":"/node/nesbus/docs/api-docs/nesbus.sbcontextargs#sbcontextargs-type","content":" Signature:  export type SbContextArgs&lt;T extends keyof SbSubscriberTypeMap = keyof SbSubscriberTypeMap&gt; = [SbSubscriberMetadata&lt;T&gt;, ServiceBusReceivedMessage];  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbemittermetadataoptions","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbemittermetadataoptions","content":"","keywords":"","version":"Next"},{"title":"SbEmitterMetadataOptions interface​","type":1,"pageTitle":"nesbus.sbemittermetadataoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbemittermetadataoptions#sbemittermetadataoptions-interface","content":" Signature:  export interface SbEmitterMetadataOptions   ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbemittermetadataoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbemittermetadataoptions#properties","content":" Property Modifiers Type Description clientId? string (Optional) The unique id of the client that this emitter should use as the underlying emitter. This should match the client name defined in SgClientOptions.name. By default SgClientOptions.name is not set, which is the identifier for the default client. A multi-client environment is not required in most of the scenarios, if that is the case do not set this value. name string  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbemitterimp","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbemitterimp","content":"","keywords":"","version":"Next"},{"title":"SbEmitterImp interface​","type":1,"pageTitle":"nesbus.sbemitterimp","url":"/node/nesbus/docs/api-docs/nesbus.sbemitterimp#sbemitterimp-interface","content":" Represents an object that can emit service bus message. (I.E a service bus Sender)  Signature:  export interface SbEmitterImp   ","version":"Next","tagName":"h2"},{"title":"Methods​","type":1,"pageTitle":"nesbus.sbemitterimp","url":"/node/nesbus/docs/api-docs/nesbus.sbemitterimp#methods","content":" Method Description sendMessages(messages, options)  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbemittermetadataoptions.name","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbemittermetadataoptions.name","content":"","keywords":"","version":"Next"},{"title":"SbEmitterMetadataOptions.name property​","type":1,"pageTitle":"nesbus.sbemittermetadataoptions.name","url":"/node/nesbus/docs/api-docs/nesbus.sbemittermetadataoptions.name#sbemittermetadataoptionsname-property","content":" Signature:  name: string;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbemitterref","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbemitterref","content":"","keywords":"","version":"Next"},{"title":"SbEmitterRef type​","type":1,"pageTitle":"nesbus.sbemitterref","url":"/node/nesbus/docs/api-docs/nesbus.sbemitterref#sbemitterref-type","content":" A Reference to an existing client emitter. This is basically a query to get the service bus Sender instance for the client registered at the queue / topic name.  Note that if you're using unique client name you can also provide the specific client id to target.  Type (topic/queue) is irrelevant because in any case two identical entities can not share the same name event if they are of different type.  Signature:  export type SbEmitterRef = SbEmitterMetadataOptions;   References: SbEmitterMetadataOptions ","version":"Next","tagName":"h2"},{"title":"nesbus.sbemittermetadataoptions.clientid","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbemittermetadataoptions.clientid","content":"","keywords":"","version":"Next"},{"title":"SbEmitterMetadataOptions.clientId property​","type":1,"pageTitle":"nesbus.sbemittermetadataoptions.clientid","url":"/node/nesbus/docs/api-docs/nesbus.sbemittermetadataoptions.clientid#sbemittermetadataoptionsclientid-property","content":" The unique id of the client that this emitter should use as the underlying emitter. This should match the client name defined in SgClientOptions.name.  By default SgClientOptions.name is not set, which is the identifier for the default client. A multi-client environment is not required in most of the scenarios, if that is the case do not set this value.  Signature:  clientId?: string;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sberrorevent._constructor_","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sberrorevent._constructor_","content":"","keywords":"","version":"Next"},{"title":"SbErrorEvent.(constructor)​","type":1,"pageTitle":"nesbus.sberrorevent._constructor_","url":"/node/nesbus/docs/api-docs/nesbus.sberrorevent._constructor_#sberroreventconstructor","content":" Constructs a new instance of the SbErrorEvent class  Signature:  constructor(phase: 'verify' | 'register' | 'listening', options: SbQueueMetadataOptions | SbSubscriptionMetadataOptions, error: Error | MessagingError);   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.sberrorevent._constructor_","url":"/node/nesbus/docs/api-docs/nesbus.sberrorevent._constructor_#parameters","content":" Parameter Type Description phase 'verify' | 'register' | 'listening' options SbQueueMetadataOptions | SbSubscriptionMetadataOptions error Error | MessagingError  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbentityprovisionoption","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbentityprovisionoption","content":"","keywords":"","version":"Next"},{"title":"SbEntityProvisionOption type​","type":1,"pageTitle":"nesbus.sbentityprovisionoption","url":"/node/nesbus/docs/api-docs/nesbus.sbentityprovisionoption#sbentityprovisionoption-type","content":" Signature:  export type SbEntityProvisionOption&lt;T extends SbEntityProvision&lt;any&gt;&gt; = SgEntityProvisionType | T;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sberrorevent","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sberrorevent","content":"","keywords":"","version":"Next"},{"title":"SbErrorEvent class​","type":1,"pageTitle":"nesbus.sberrorevent","url":"/node/nesbus/docs/api-docs/nesbus.sberrorevent#sberrorevent-class","content":" Signature:  export declare class SbErrorEvent   ","version":"Next","tagName":"h2"},{"title":"Constructors​","type":1,"pageTitle":"nesbus.sberrorevent","url":"/node/nesbus/docs/api-docs/nesbus.sberrorevent#constructors","content":" Constructor Modifiers Description (constructor)(phase, options, error) Constructs a new instance of the SbErrorEvent class  ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sberrorevent","url":"/node/nesbus/docs/api-docs/nesbus.sberrorevent#properties","content":" Property Modifiers Type Description error readonly Error | MessagingError options readonly SbQueueMetadataOptions | SbSubscriptionMetadataOptions phase readonly 'verify' | 'register' | 'listening'  ","version":"Next","tagName":"h2"},{"title":"nesbus.sberrorevent.error","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sberrorevent.error","content":"","keywords":"","version":"Next"},{"title":"SbErrorEvent.error property​","type":1,"pageTitle":"nesbus.sberrorevent.error","url":"/node/nesbus/docs/api-docs/nesbus.sberrorevent.error#sberroreventerror-property","content":" Signature:  readonly error: Error | MessagingError;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sberrorhandler.onerror","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sberrorhandler.onerror","content":"","keywords":"","version":"Next"},{"title":"SbErrorHandler.onError() method​","type":1,"pageTitle":"nesbus.sberrorhandler.onerror","url":"/node/nesbus/docs/api-docs/nesbus.sberrorhandler.onerror#sberrorhandleronerror-method","content":" Signature:  abstract onError(event: SbErrorEvent): Promise&lt;void&gt;;   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.sberrorhandler.onerror","url":"/node/nesbus/docs/api-docs/nesbus.sberrorhandler.onerror#parameters","content":" Parameter Type Description event SbErrorEvent   Returns:  Promise&lt;void&gt; ","version":"Next","tagName":"h2"},{"title":"nesbus.sberrorhandler","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sberrorhandler","content":"","keywords":"","version":"Next"},{"title":"SbErrorHandler class​","type":1,"pageTitle":"nesbus.sberrorhandler","url":"/node/nesbus/docs/api-docs/nesbus.sberrorhandler#sberrorhandler-class","content":" Signature:  export declare abstract class SbErrorHandler   ","version":"Next","tagName":"h2"},{"title":"Methods​","type":1,"pageTitle":"nesbus.sberrorhandler","url":"/node/nesbus/docs/api-docs/nesbus.sberrorhandler#methods","content":" Method Modifiers Description onError(event) abstract onMessageError(event) abstract  ","version":"Next","tagName":"h2"},{"title":"nesbus.sberrorevent.phase","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sberrorevent.phase","content":"","keywords":"","version":"Next"},{"title":"SbErrorEvent.phase property​","type":1,"pageTitle":"nesbus.sberrorevent.phase","url":"/node/nesbus/docs/api-docs/nesbus.sberrorevent.phase#sberroreventphase-property","content":" Signature:  readonly phase: 'verify' | 'register' | 'listening';  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbinterceptor","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbinterceptor","content":"","keywords":"","version":"Next"},{"title":"SbInterceptor interface​","type":1,"pageTitle":"nesbus.sbinterceptor","url":"/node/nesbus/docs/api-docs/nesbus.sbinterceptor#sbinterceptor-interface","content":" Signature:  export interface SbInterceptor&lt;T = any, R = any&gt;   ","version":"Next","tagName":"h2"},{"title":"Methods​","type":1,"pageTitle":"nesbus.sbinterceptor","url":"/node/nesbus/docs/api-docs/nesbus.sbinterceptor#methods","content":" Method Description intercept(context, next)  ","version":"Next","tagName":"h2"},{"title":"nesbus.sberrorevent.options","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sberrorevent.options","content":"","keywords":"","version":"Next"},{"title":"SbErrorEvent.options property​","type":1,"pageTitle":"nesbus.sberrorevent.options","url":"/node/nesbus/docs/api-docs/nesbus.sberrorevent.options#sberroreventoptions-property","content":" Signature:  readonly options: SbQueueMetadataOptions | SbSubscriptionMetadataOptions;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbinterceptor.intercept","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbinterceptor.intercept","content":"","keywords":"","version":"Next"},{"title":"SbInterceptor.intercept() method​","type":1,"pageTitle":"nesbus.sbinterceptor.intercept","url":"/node/nesbus/docs/api-docs/nesbus.sbinterceptor.intercept#sbinterceptorintercept-method","content":" Signature:  intercept(context: SbContext, next: CallHandler&lt;T&gt;): Observable&lt;R&gt; | Promise&lt;Observable&lt;R&gt;&gt;;   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.sbinterceptor.intercept","url":"/node/nesbus/docs/api-docs/nesbus.sbinterceptor.intercept#parameters","content":" Parameter Type Description context SbContext next CallHandler&lt;T&gt;   Returns:  Observable&lt;R&gt; | Promise&lt;Observable&lt;R&gt;&gt; ","version":"Next","tagName":"h2"},{"title":"nesbus.sbintercept","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbintercept","content":"","keywords":"","version":"Next"},{"title":"SbIntercept() function​","type":1,"pageTitle":"nesbus.sbintercept","url":"/node/nesbus/docs/api-docs/nesbus.sbintercept#sbintercept-function","content":" Signature:  export declare function SbIntercept(...interceptors: Array&lt;SbInterceptor | Type&lt;SbInterceptor&gt;&gt;): &lt;T extends Record&lt;K, OperatorFunction&lt;SbContext&lt;keyof import(&quot;../interfaces&quot;).SbSubscriberTypeMap&gt;, any&gt;&gt;, K extends string&gt;(target: T, key: K) =&gt; void;   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.sbintercept","url":"/node/nesbus/docs/api-docs/nesbus.sbintercept#parameters","content":" Parameter Type Description interceptors Array&lt;SbInterceptor | Type&lt;SbInterceptor&gt;&gt;   Returns:  &lt;T extends Record&lt;K, OperatorFunction&lt;SbContext&lt;keyof import(&quot;../interfaces&quot;).SbSubscriberTypeMap&gt;, any&gt;&gt;, K extends string&gt;(target: T, key: K) =&gt; void ","version":"Next","tagName":"h2"},{"title":"nesbus.sberrorhandler.onmessageerror","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sberrorhandler.onmessageerror","content":"","keywords":"","version":"Next"},{"title":"SbErrorHandler.onMessageError() method​","type":1,"pageTitle":"nesbus.sberrorhandler.onmessageerror","url":"/node/nesbus/docs/api-docs/nesbus.sberrorhandler.onmessageerror#sberrorhandleronmessageerror-method","content":" Signature:  abstract onMessageError(event: SbMessageErrorEvent): Promise&lt;void&gt;;   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.sberrorhandler.onmessageerror","url":"/node/nesbus/docs/api-docs/nesbus.sberrorhandler.onmessageerror#parameters","content":" Parameter Type Description event SbMessageErrorEvent   Returns:  Promise&lt;void&gt; ","version":"Next","tagName":"h2"},{"title":"nesbus.sbmanagementdefaultsadapter","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbmanagementdefaultsadapter","content":"","keywords":"","version":"Next"},{"title":"nesbus.sbmessageemitter","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbmessageemitter","content":"","keywords":"","version":"Next"},{"title":"SbMessageEmitter type​","type":1,"pageTitle":"nesbus.sbmessageemitter","url":"/node/nesbus/docs/api-docs/nesbus.sbmessageemitter#sbmessageemitter-type","content":" Represents an object that can be used (directly or indirectly) to emit messages to service bus. This can be either a directly emitting object or a reference that is used to resolve a directly emitting object.  Signature:  export type SbMessageEmitter = SbEmitterRef | SbEmitterImp;   References: SbEmitterRef, SbEmitterImp ","version":"Next","tagName":"h2"},{"title":"nesbus.sbmanagementdefaultsadapter.entities","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbmanagementdefaultsadapter.entities","content":"","keywords":"","version":"Next"},{"title":"SbManagementDefaultsAdapter.entities property​","type":1,"pageTitle":"nesbus.sbmanagementdefaultsadapter.entities","url":"/node/nesbus/docs/api-docs/nesbus.sbmanagementdefaultsadapter.entities#sbmanagementdefaultsadapterentities-property","content":" Signature:  entities?: { queue?: SbQueue; topic?: SbTopic; subscription?: SbSubscription; };  ","version":"Next","tagName":"h2"},{"title":"SbManagementDefaultsAdapter interface​","type":1,"pageTitle":"nesbus.sbmanagementdefaultsadapter","url":"/node/nesbus/docs/api-docs/nesbus.sbmanagementdefaultsadapter#sbmanagementdefaultsadapter-interface","content":" Signature:  export interface SbManagementDefaultsAdapter   ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbmanagementdefaultsadapter","url":"/node/nesbus/docs/api-docs/nesbus.sbmanagementdefaultsadapter#properties","content":" Property Modifiers Type Description entities? { queue?: SbQueue; topic?: SbTopic; subscription?: SbSubscription; } (Optional)  ","version":"Next","tagName":"h2"},{"title":"Methods​","type":1,"pageTitle":"nesbus.sbmanagementdefaultsadapter","url":"/node/nesbus/docs/api-docs/nesbus.sbmanagementdefaultsadapter#methods","content":" Method Description onNewSubscriptionRules(topicName, subscriptionName, providedRules, subscriptionProvision)? (Optional) A function that can be used to create default set of rules that will be added when a new subscription is created. This function, when set, is fired at all time even if the user defined a static array or a dynamic function for the rules. If the user provision defines a function for the rules it will be fired first and after that the default rules function will fire. The rules from the user's provision is passed to this function and the result from this function will be used as the resolved rules for the subscription. I.E., for pass-through make sure you return the `providedRules array. ","version":"Next","tagName":"h2"},{"title":"nesbus.sbmanagementdefaultsadapter.onnewsubscriptionrules","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbmanagementdefaultsadapter.onnewsubscriptionrules","content":"","keywords":"","version":"Next"},{"title":"SbManagementDefaultsAdapter.onNewSubscriptionRules() method​","type":1,"pageTitle":"nesbus.sbmanagementdefaultsadapter.onnewsubscriptionrules","url":"/node/nesbus/docs/api-docs/nesbus.sbmanagementdefaultsadapter.onnewsubscriptionrules#sbmanagementdefaultsadapteronnewsubscriptionrules-method","content":" A function that can be used to create default set of rules that will be added when a new subscription is created. This function, when set, is fired at all time even if the user defined a static array or a dynamic function for the rules.  If the user provision defines a function for the rules it will be fired first and after that the default rules function will fire.  The rules from the user's provision is passed to this function and the result from this function will be used as the resolved rules for the subscription. I.E., for pass-through make sure you return the `providedRules array.  Signature:  onNewSubscriptionRules?(topicName: string, subscriptionName: string, providedRules: SbRuleEntityProvision[], subscriptionProvision: SbTopicSubscriptionEntityProvision): SbRuleEntityProvision[];   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.sbmanagementdefaultsadapter.onnewsubscriptionrules","url":"/node/nesbus/docs/api-docs/nesbus.sbmanagementdefaultsadapter.onnewsubscriptionrules#parameters","content":" Parameter Type Description topicName string The name of the topic grandparent subscriptionName string The name of subscription parent providedRules SbRuleEntityProvision[] The list of rules defined by the user subscriptionProvision SbTopicSubscriptionEntityProvision The provision of the subscription created  Returns:  SbRuleEntityProvision[] ","version":"Next","tagName":"h2"},{"title":"nesbus.sbmessageerrorevent","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbmessageerrorevent","content":"","keywords":"","version":"Next"},{"title":"nesbus.sbmessageerrorevent.error","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbmessageerrorevent.error","content":"","keywords":"","version":"Next"},{"title":"SbMessageErrorEvent.error property​","type":1,"pageTitle":"nesbus.sbmessageerrorevent.error","url":"/node/nesbus/docs/api-docs/nesbus.sbmessageerrorevent.error#sbmessageerroreventerror-property","content":" Signature:  readonly error: Error;  ","version":"Next","tagName":"h2"},{"title":"SbMessageErrorEvent class​","type":1,"pageTitle":"nesbus.sbmessageerrorevent","url":"/node/nesbus/docs/api-docs/nesbus.sbmessageerrorevent#sbmessageerrorevent-class","content":" Signature:  export declare class SbMessageErrorEvent   ","version":"Next","tagName":"h2"},{"title":"Constructors​","type":1,"pageTitle":"nesbus.sbmessageerrorevent","url":"/node/nesbus/docs/api-docs/nesbus.sbmessageerrorevent#constructors","content":" Constructor Modifiers Description (constructor)(options, error) Constructs a new instance of the SbMessageErrorEvent class  ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbmessageerrorevent","url":"/node/nesbus/docs/api-docs/nesbus.sbmessageerrorevent#properties","content":" Property Modifiers Type Description error readonly Error options readonly SbQueueMetadataOptions | SbSubscriptionMetadataOptions  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbmessageerrorevent.options","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbmessageerrorevent.options","content":"","keywords":"","version":"Next"},{"title":"SbMessageErrorEvent.options property​","type":1,"pageTitle":"nesbus.sbmessageerrorevent.options","url":"/node/nesbus/docs/api-docs/nesbus.sbmessageerrorevent.options#sbmessageerroreventoptions-property","content":" Signature:  readonly options: SbQueueMetadataOptions | SbSubscriptionMetadataOptions;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbmoduleregisteroptions.clients","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbmoduleregisteroptions.clients","content":"","keywords":"","version":"Next"},{"title":"SbModuleRegisterOptions.clients property​","type":1,"pageTitle":"nesbus.sbmoduleregisteroptions.clients","url":"/node/nesbus/docs/api-docs/nesbus.sbmoduleregisteroptions.clients#sbmoduleregisteroptionsclients-property","content":" A list of client configuration objects or a NestJS ValueProvider/FactoryProvider that resolves to a list of client configuration objects.  Signature:  clients?: SbClientOptions[] | Omit&lt;ValueProvider, 'provide'&gt; | Omit&lt;FactoryProvider, 'provide'&gt;;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbmoduleregisteroptions.providers","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbmoduleregisteroptions.providers","content":"","keywords":"","version":"Next"},{"title":"nesbus.sbmoduleregisteroptions","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbmoduleregisteroptions","content":"","keywords":"","version":"Next"},{"title":"SbModuleRegisterOptions interface​","type":1,"pageTitle":"nesbus.sbmoduleregisteroptions","url":"/node/nesbus/docs/api-docs/nesbus.sbmoduleregisteroptions#sbmoduleregisteroptions-interface","content":" Signature:  export interface SbModuleRegisterOptions   ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbmoduleregisteroptions","url":"/node/nesbus/docs/api-docs/nesbus.sbmoduleregisteroptions#properties","content":" Property Modifiers Type Description clients? SbClientOptions[] | Omit&lt;ValueProvider, 'provide'&gt; | Omit&lt;FactoryProvider, 'provide'&gt; (Optional) A list of client configuration objects or a NestJS ValueProvider/FactoryProvider that resolves to a list of client configuration objects. metaFactoryProvider? Omit&lt;Exclude&lt;Provider, Type&lt;any&gt;&gt;, 'provide'&gt; | Type&lt;any&gt; (Optional) An optional providers that when set resolves to the value injected to the metadata factory function, when used. providers? Provider[] (Optional) servers SbServerOptions[] | Omit&lt;ValueProvider, 'provide'&gt; | Omit&lt;FactoryProvider, 'provide'&gt; A list of server configuration objects or a NestJS ValueProvider/FactoryProvider that resolves to a list of server configuration objects. ","version":"Next","tagName":"h2"},{"title":"nesbus.sbmessageerrorevent._constructor_","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbmessageerrorevent._constructor_","content":"","keywords":"","version":"Next"},{"title":"SbMessageErrorEvent.(constructor)​","type":1,"pageTitle":"nesbus.sbmessageerrorevent._constructor_","url":"/node/nesbus/docs/api-docs/nesbus.sbmessageerrorevent._constructor_#sbmessageerroreventconstructor","content":" Constructs a new instance of the SbMessageErrorEvent class  Signature:  constructor(options: SbQueueMetadataOptions | SbSubscriptionMetadataOptions, error: Error);   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.sbmessageerrorevent._constructor_","url":"/node/nesbus/docs/api-docs/nesbus.sbmessageerrorevent._constructor_#parameters","content":" Parameter Type Description options SbQueueMetadataOptions | SbSubscriptionMetadataOptions error Error  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbmoduleregisteroptions.metafactoryprovider","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbmoduleregisteroptions.metafactoryprovider","content":"","keywords":"","version":"Next"},{"title":"SbModuleRegisterOptions.metaFactoryProvider property​","type":1,"pageTitle":"nesbus.sbmoduleregisteroptions.metafactoryprovider","url":"/node/nesbus/docs/api-docs/nesbus.sbmoduleregisteroptions.metafactoryprovider#sbmoduleregisteroptionsmetafactoryprovider-property","content":" An optional providers that when set resolves to the value injected to the metadata factory function, when used.  Signature:  metaFactoryProvider?: Omit&lt;Exclude&lt;Provider, Type&lt;any&gt;&gt;, 'provide'&gt; | Type&lt;any&gt;;  ","version":"Next","tagName":"h2"},{"title":"SbModuleRegisterOptions.providers property​","type":1,"pageTitle":"nesbus.sbmoduleregisteroptions.providers","url":"/node/nesbus/docs/api-docs/nesbus.sbmoduleregisteroptions.providers#sbmoduleregisteroptionsproviders-property","content":" Signature:  providers?: Provider[];  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbqueueemittermetadataoptions.provision","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbqueueemittermetadataoptions.provision","content":"","keywords":"","version":"Next"},{"title":"SbQueueEmitterMetadataOptions.provision property​","type":1,"pageTitle":"nesbus.sbqueueemittermetadataoptions.provision","url":"/node/nesbus/docs/api-docs/nesbus.sbqueueemittermetadataoptions.provision#sbqueueemittermetadataoptionsprovision-property","content":" Signature:  provision?: SbEntityProvisionOption&lt;SbQueueEntityProvision&gt;;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbqueue","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbqueue","content":"","keywords":"","version":"Next"},{"title":"SbQueue type​","type":1,"pageTitle":"nesbus.sbqueue","url":"/node/nesbus/docs/api-docs/nesbus.sbqueue#sbqueue-type","content":" Signature:  export type SbQueue = Partial&lt;Omit&lt;QueueProperties, 'name'&gt;&gt;;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbqueueemittermetadataoptions","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbqueueemittermetadataoptions","content":"","keywords":"","version":"Next"},{"title":"SbQueueEmitterMetadataOptions interface​","type":1,"pageTitle":"nesbus.sbqueueemittermetadataoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbqueueemittermetadataoptions#sbqueueemittermetadataoptions-interface","content":" Signature:  export interface SbQueueEmitterMetadataOptions extends SbEmitterMetadataOptions   Extends: SbEmitterMetadataOptions  ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbqueueemittermetadataoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbqueueemittermetadataoptions#properties","content":" Property Modifiers Type Description provision? SbEntityProvisionOption&lt;SbQueueEntityProvision&gt; (Optional) ","version":"Next","tagName":"h2"},{"title":"nesbus.sbqueueentityprovision.deadletter","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbqueueentityprovision.deadletter","content":"","keywords":"","version":"Next"},{"title":"SbQueueEntityProvision.deadLetter property​","type":1,"pageTitle":"nesbus.sbqueueentityprovision.deadletter","url":"/node/nesbus/docs/api-docs/nesbus.sbqueueentityprovision.deadletter#sbqueueentityprovisiondeadletter-property","content":" Define how the dead letter queue/topic is provisioned (&quot;forwardDeadLetteredMessagesTo&quot;) &gt; Relevant only when &quot;forwardDeadLetteredMessagesTo&quot; has a value.  Signature:  deadLetter?: SbLinkedEntityProvisionOption;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbqueueentityprovision","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbqueueentityprovision","content":"","keywords":"","version":"Next"},{"title":"SbQueueEntityProvision interface​","type":1,"pageTitle":"nesbus.sbqueueentityprovision","url":"/node/nesbus/docs/api-docs/nesbus.sbqueueentityprovision#sbqueueentityprovision-interface","content":" Signature:  export interface SbQueueEntityProvision extends SbEntityProvision&lt;SbQueue&gt;   Extends: SbEntityProvision&lt;SbQueue&gt;  ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbqueueentityprovision","url":"/node/nesbus/docs/api-docs/nesbus.sbqueueentityprovision#properties","content":" Property Modifiers Type Description deadLetter? SbLinkedEntityProvisionOption (Optional) Define how the dead letter queue/topic is provisioned (&quot;forwardDeadLetteredMessagesTo&quot;) &gt; Relevant only when &quot;forwardDeadLetteredMessagesTo&quot; has a value. forward? SbLinkedEntityProvisionOption (Optional) Define how the forward queue/topic is provisioned (&quot;forwardTo&quot;) &gt; Relevant only when &quot;forwardTo&quot; has a value. ","version":"Next","tagName":"h2"},{"title":"nesbus.sbmoduleregisteroptions.servers","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbmoduleregisteroptions.servers","content":"","keywords":"","version":"Next"},{"title":"SbModuleRegisterOptions.servers property​","type":1,"pageTitle":"nesbus.sbmoduleregisteroptions.servers","url":"/node/nesbus/docs/api-docs/nesbus.sbmoduleregisteroptions.servers#sbmoduleregisteroptionsservers-property","content":" A list of server configuration objects or a NestJS ValueProvider/FactoryProvider that resolves to a list of server configuration objects.  Signature:  servers: SbServerOptions[] | Omit&lt;ValueProvider, 'provide'&gt; | Omit&lt;FactoryProvider, 'provide'&gt;;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbqueuemetadataoptions","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbqueuemetadataoptions","content":"","keywords":"","version":"Next"},{"title":"SbQueueMetadataOptions interface​","type":1,"pageTitle":"nesbus.sbqueuemetadataoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbqueuemetadataoptions#sbqueuemetadataoptions-interface","content":" Signature:  export interface SbQueueMetadataOptions extends SbSubscriberMetadataOptions   Extends: SbSubscriberMetadataOptions  ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbqueuemetadataoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbqueuemetadataoptions#properties","content":" Property Modifiers Type Description provision? SbEntityProvisionOption&lt;SbQueueEntityProvision&gt; (Optional) ","version":"Next","tagName":"h2"},{"title":"nesbus.sbruleentityprovision","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbruleentityprovision","content":"","keywords":"","version":"Next"},{"title":"nesbus.sbrule","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbrule","content":"","keywords":"","version":"Next"},{"title":"SbRule type​","type":1,"pageTitle":"nesbus.sbrule","url":"/node/nesbus/docs/api-docs/nesbus.sbrule#sbrule-type","content":" Signature:  export type SbRule = Partial&lt;Omit&lt;RuleProperties, 'createdAt'&gt;&gt;;  ","version":"Next","tagName":"h2"},{"title":"SbRuleEntityProvision interface​","type":1,"pageTitle":"nesbus.sbruleentityprovision","url":"/node/nesbus/docs/api-docs/nesbus.sbruleentityprovision#sbruleentityprovision-interface","content":" Signature:  export interface SbRuleEntityProvision extends SbEntityProvision&lt;SbRule&gt;   Extends: SbEntityProvision&lt;SbRule&gt;  ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbruleentityprovision","url":"/node/nesbus/docs/api-docs/nesbus.sbruleentityprovision#properties","content":" Property Modifiers Type Description params SbRule ruleName string  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbruleentityprovision.rulename","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbruleentityprovision.rulename","content":"","keywords":"","version":"Next"},{"title":"nesbus.sbruleentityprovision.params","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbruleentityprovision.params","content":"","keywords":"","version":"Next"},{"title":"SbRuleEntityProvision.params property​","type":1,"pageTitle":"nesbus.sbruleentityprovision.params","url":"/node/nesbus/docs/api-docs/nesbus.sbruleentityprovision.params#sbruleentityprovisionparams-property","content":" Signature:  params: SbRule;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbqueueentityprovision.forward","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbqueueentityprovision.forward","content":"","keywords":"","version":"Next"},{"title":"SbQueueEntityProvision.forward property​","type":1,"pageTitle":"nesbus.sbqueueentityprovision.forward","url":"/node/nesbus/docs/api-docs/nesbus.sbqueueentityprovision.forward#sbqueueentityprovisionforward-property","content":" Define how the forward queue/topic is provisioned (&quot;forwardTo&quot;) &gt; Relevant only when &quot;forwardTo&quot; has a value.  Signature:  forward?: SbLinkedEntityProvisionOption;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbqueuemetadataoptions.provision","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbqueuemetadataoptions.provision","content":"","keywords":"","version":"Next"},{"title":"SbQueueMetadataOptions.provision property​","type":1,"pageTitle":"nesbus.sbqueuemetadataoptions.provision","url":"/node/nesbus/docs/api-docs/nesbus.sbqueuemetadataoptions.provision#sbqueuemetadataoptionsprovision-property","content":" Signature:  provision?: SbEntityProvisionOption&lt;SbQueueEntityProvision&gt;;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbsascredentials","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsascredentials","content":"","keywords":"","version":"Next"},{"title":"SbSASCredentials interface​","type":1,"pageTitle":"nesbus.sbsascredentials","url":"/node/nesbus/docs/api-docs/nesbus.sbsascredentials#sbsascredentials-interface","content":" Signature:  export interface SbSASCredentials   ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbsascredentials","url":"/node/nesbus/docs/api-docs/nesbus.sbsascredentials#properties","content":" Property Modifiers Type Description connectionString string  ","version":"Next","tagName":"h2"},{"title":"SbRuleEntityProvision.ruleName property​","type":1,"pageTitle":"nesbus.sbruleentityprovision.rulename","url":"/node/nesbus/docs/api-docs/nesbus.sbruleentityprovision.rulename#sbruleentityprovisionrulename-property","content":" Signature:  ruleName: string;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbsascredentials.connectionstring","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsascredentials.connectionstring","content":"","keywords":"","version":"Next"},{"title":"SbSASCredentials.connectionString property​","type":1,"pageTitle":"nesbus.sbsascredentials.connectionstring","url":"/node/nesbus/docs/api-docs/nesbus.sbsascredentials.connectionstring#sbsascredentialsconnectionstring-property","content":" Signature:  connectionString: string;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbserveroptions.logger","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbserveroptions.logger","content":"","keywords":"","version":"Next"},{"title":"SbServerOptions.logger property​","type":1,"pageTitle":"nesbus.sbserveroptions.logger","url":"/node/nesbus/docs/api-docs/nesbus.sbserveroptions.logger#sbserveroptionslogger-property","content":" Signature:  logger?: LoggerService;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbserveroptions.management","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbserveroptions.management","content":"","keywords":"","version":"Next"},{"title":"nesbus.sbserveroptions","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbserveroptions","content":"","keywords":"","version":"Next"},{"title":"SbServerOptions interface​","type":1,"pageTitle":"nesbus.sbserveroptions","url":"/node/nesbus/docs/api-docs/nesbus.sbserveroptions#sbserveroptions-interface","content":" Signature:  export interface SbServerOptions   ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbserveroptions","url":"/node/nesbus/docs/api-docs/nesbus.sbserveroptions#properties","content":" Property Modifiers Type Description client SbConnectionOptions&lt;ServiceBusClientOptions&gt; logger? LoggerService (Optional) management? SbConnectionOptions&lt;ServiceBusAdministrationClientOptions&gt; &amp; { defaults: SbManagementDefaultsAdapter; } (Optional) name? string (Optional) A unique name given to this server which allow subscriber filter and other paring capabilities. When not set, the server is defined as the default server used for all events defined without filtering. Additionally, the name is used to pair server &amp; client together to allow sharing of resources (connections/senders/receivers). Since by default all names are empty, all servers &amp; clients are shared. Note that the name most be unique across all running instances (runtime scoped, not NestJS application scope) This means that only one default (empty name) server is allowed. If a duplicate name is detected the process will throw. registerHandlers? 'sequence' | 'parallel' (Optional) How handlers are registers in service bus. - sequence: register one after the other - parallel: register all at once The default value is parallel ","version":"Next","tagName":"h2"},{"title":"nesbus.sbserveroptions.client","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbserveroptions.client","content":"","keywords":"","version":"Next"},{"title":"SbServerOptions.client property​","type":1,"pageTitle":"nesbus.sbserveroptions.client","url":"/node/nesbus/docs/api-docs/nesbus.sbserveroptions.client#sbserveroptionsclient-property","content":" Signature:  client: SbConnectionOptions&lt;ServiceBusClientOptions&gt;;  ","version":"Next","tagName":"h2"},{"title":"SbServerOptions.management property​","type":1,"pageTitle":"nesbus.sbserveroptions.management","url":"/node/nesbus/docs/api-docs/nesbus.sbserveroptions.management#sbserveroptionsmanagement-property","content":" Signature:  management?: SbConnectionOptions&lt;ServiceBusAdministrationClientOptions&gt; &amp; { defaults: SbManagementDefaultsAdapter; };  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbsqlfilter","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsqlfilter","content":"","keywords":"","version":"Next"},{"title":"SbSqlFilter type​","type":1,"pageTitle":"nesbus.sbsqlfilter","url":"/node/nesbus/docs/api-docs/nesbus.sbsqlfilter#sbsqlfilter-type","content":" Signature:  export type SbSqlFilter = Omit&lt;SqlRuleFilter, 'sqlParameters'&gt;;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbserveroptions.name","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbserveroptions.name","content":"","keywords":"","version":"Next"},{"title":"SbServerOptions.name property​","type":1,"pageTitle":"nesbus.sbserveroptions.name","url":"/node/nesbus/docs/api-docs/nesbus.sbserveroptions.name#sbserveroptionsname-property","content":" A unique name given to this server which allow subscriber filter and other paring capabilities. When not set, the server is defined as the default server used for all events defined without filtering.  Additionally, the name is used to pair server &amp; client together to allow sharing of resources (connections/senders/receivers). Since by default all names are empty, all servers &amp; clients are shared.  Note that the name most be unique across all running instances (runtime scoped, not NestJS application scope) This means that only one default (empty name) server is allowed.  If a duplicate name is detected the process will throw.  Signature:  name?: string;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbsubscribermetadataoptions.handleroptions","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions.handleroptions","content":"","keywords":"","version":"Next"},{"title":"SbSubscriberMetadataOptions.handlerOptions property​","type":1,"pageTitle":"nesbus.sbsubscribermetadataoptions.handleroptions","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions.handleroptions#sbsubscribermetadataoptionshandleroptions-property","content":" Signature:  handlerOptions?: ServiceBusReceiverOptions;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbsubscribermetadataoptions","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions","content":"","keywords":"","version":"Next"},{"title":"SbSubscriberMetadataOptions interface​","type":1,"pageTitle":"nesbus.sbsubscribermetadataoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions#sbsubscribermetadataoptions-interface","content":" Signature:  export interface SbSubscriberMetadataOptions   ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbsubscribermetadataoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions#properties","content":" Property Modifiers Type Description handlerOptions? ServiceBusReceiverOptions (Optional) name string receiveMode 'peekLock' | 'receiveAndDelete' serverId? string (Optional) The unique id of the server that this emitter should use as the underlying listener. This should match the server name defined in SgServerOptions.name. By default SgServerOptions.name is not set, which is the identifier for the default server. A multi-server environment is not required in most of the scenarios, if that is the case do not set this value. sessionOptions? ServiceBusSessionReceiverOptions (Optional) subscribeOptions? SubscribeOptions (Optional) ","version":"Next","tagName":"h2"},{"title":"nesbus.sbsubscribermetadataoptions.receivemode","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions.receivemode","content":"","keywords":"","version":"Next"},{"title":"SbSubscriberMetadataOptions.receiveMode property​","type":1,"pageTitle":"nesbus.sbsubscribermetadataoptions.receivemode","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions.receivemode#sbsubscribermetadataoptionsreceivemode-property","content":" Signature:  receiveMode: 'peekLock' | 'receiveAndDelete';  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbsubscribermetadataoptions.name","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions.name","content":"","keywords":"","version":"Next"},{"title":"SbSubscriberMetadataOptions.name property​","type":1,"pageTitle":"nesbus.sbsubscribermetadataoptions.name","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions.name#sbsubscribermetadataoptionsname-property","content":" Signature:  name: string;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbserveroptions.registerhandlers","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbserveroptions.registerhandlers","content":"","keywords":"","version":"Next"},{"title":"SbServerOptions.registerHandlers property​","type":1,"pageTitle":"nesbus.sbserveroptions.registerhandlers","url":"/node/nesbus/docs/api-docs/nesbus.sbserveroptions.registerhandlers#sbserveroptionsregisterhandlers-property","content":" How handlers are registers in service bus. - sequence: register one after the other - parallel: register all at once  The default value is parallel  Signature:  registerHandlers?: 'sequence' | 'parallel';  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbsubscribermetadataoptions.subscribeoptions","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions.subscribeoptions","content":"","keywords":"","version":"Next"},{"title":"SbSubscriberMetadataOptions.subscribeOptions property​","type":1,"pageTitle":"nesbus.sbsubscribermetadataoptions.subscribeoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions.subscribeoptions#sbsubscribermetadataoptionssubscribeoptions-property","content":" Signature:  subscribeOptions?: SubscribeOptions;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbsubscribermetadataoptions.sessionoptions","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions.sessionoptions","content":"","keywords":"","version":"Next"},{"title":"nesbus.sbsubscriptionmetadataoptions","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscriptionmetadataoptions","content":"","keywords":"","version":"Next"},{"title":"SbSubscriptionMetadataOptions interface​","type":1,"pageTitle":"nesbus.sbsubscriptionmetadataoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscriptionmetadataoptions#sbsubscriptionmetadataoptions-interface","content":" Signature:  export interface SbSubscriptionMetadataOptions extends SbSubscriberMetadataOptions   Extends: SbSubscriberMetadataOptions  ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbsubscriptionmetadataoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscriptionmetadataoptions#properties","content":" Property Modifiers Type Description provision? SbEntityProvisionOption&lt;SbTopicSubscriptionEntityProvision&gt; (Optional) topicName string  ","version":"Next","tagName":"h2"},{"title":"SbSubscriberMetadataOptions.sessionOptions property​","type":1,"pageTitle":"nesbus.sbsubscribermetadataoptions.sessionoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions.sessionoptions#sbsubscribermetadataoptionssessionoptions-property","content":" Signature:  sessionOptions?: ServiceBusSessionReceiverOptions;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbsubscribermetadataoptions.serverid","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions.serverid","content":"","keywords":"","version":"Next"},{"title":"nesbus.sbsubscriptionmetadataoptions.topicname","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscriptionmetadataoptions.topicname","content":"","keywords":"","version":"Next"},{"title":"SbSubscriptionMetadataOptions.topicName property​","type":1,"pageTitle":"nesbus.sbsubscriptionmetadataoptions.topicname","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscriptionmetadataoptions.topicname#sbsubscriptionmetadataoptionstopicname-property","content":" Signature:  topicName: string;  ","version":"Next","tagName":"h2"},{"title":"SbSubscriberMetadataOptions.serverId property​","type":1,"pageTitle":"nesbus.sbsubscribermetadataoptions.serverid","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscribermetadataoptions.serverid#sbsubscribermetadataoptionsserverid-property","content":" The unique id of the server that this emitter should use as the underlying listener. This should match the server name defined in SgServerOptions.name.  By default SgServerOptions.name is not set, which is the identifier for the default server. A multi-server environment is not required in most of the scenarios, if that is the case do not set this value.  Signature:  serverId?: string;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbsubscription","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscription","content":"","keywords":"","version":"Next"},{"title":"SbSubscription type​","type":1,"pageTitle":"nesbus.sbsubscription","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscription#sbsubscription-type","content":" Signature:  export type SbSubscription = Partial&lt;Omit&lt;SubscriptionProperties, 'subscriptionName' | 'topicName'&gt;&gt;;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbtokencredentials.credential","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbtokencredentials.credential","content":"","keywords":"","version":"Next"},{"title":"SbTokenCredentials.credential property​","type":1,"pageTitle":"nesbus.sbtokencredentials.credential","url":"/node/nesbus/docs/api-docs/nesbus.sbtokencredentials.credential#sbtokencredentialscredential-property","content":" Signature:  credential?: TokenCredential;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbtopic","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbtopic","content":"","keywords":"","version":"Next"},{"title":"SbTopic type​","type":1,"pageTitle":"nesbus.sbtopic","url":"/node/nesbus/docs/api-docs/nesbus.sbtopic#sbtopic-type","content":" Signature:  export type SbTopic = Partial&lt;Omit&lt;TopicProperties, 'name'&gt;&gt;;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbtopicentityprovision","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicentityprovision","content":"","keywords":"","version":"Next"},{"title":"SbTopicEntityProvision interface​","type":1,"pageTitle":"nesbus.sbtopicentityprovision","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicentityprovision#sbtopicentityprovision-interface","content":" Signature:  export interface SbTopicEntityProvision extends SbEntityProvision&lt;SbTopic&gt;   Extends: SbEntityProvision&lt;SbTopic&gt; ","version":"Next","tagName":"h2"},{"title":"nesbus.sbtokencredentials","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbtokencredentials","content":"","keywords":"","version":"Next"},{"title":"SbTokenCredentials interface​","type":1,"pageTitle":"nesbus.sbtokencredentials","url":"/node/nesbus/docs/api-docs/nesbus.sbtokencredentials#sbtokencredentials-interface","content":" Signature:  export interface SbTokenCredentials   ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbtokencredentials","url":"/node/nesbus/docs/api-docs/nesbus.sbtokencredentials#properties","content":" Property Modifiers Type Description credential? TokenCredential (Optional) namespace string  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbtokencredentials.namespace","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbtokencredentials.namespace","content":"","keywords":"","version":"Next"},{"title":"SbTokenCredentials.namespace property​","type":1,"pageTitle":"nesbus.sbtokencredentials.namespace","url":"/node/nesbus/docs/api-docs/nesbus.sbtokencredentials.namespace#sbtokencredentialsnamespace-property","content":" Signature:  namespace: string;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbtopicmetadataoptions","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicmetadataoptions","content":"","keywords":"","version":"Next"},{"title":"SbTopicMetadataOptions interface​","type":1,"pageTitle":"nesbus.sbtopicmetadataoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicmetadataoptions#sbtopicmetadataoptions-interface","content":" Signature:  export interface SbTopicMetadataOptions extends SbEmitterMetadataOptions   Extends: SbEmitterMetadataOptions  ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbtopicmetadataoptions","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicmetadataoptions#properties","content":" Property Modifiers Type Description provision? SbEntityProvisionOption&lt;SbTopicEntityProvision&gt; (Optional) ","version":"Next","tagName":"h2"},{"title":"nesbus.sbtopicsubscriptionentityprovision.deadletter","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicsubscriptionentityprovision.deadletter","content":"","keywords":"","version":"Next"},{"title":"SbTopicSubscriptionEntityProvision.deadLetter property​","type":1,"pageTitle":"nesbus.sbtopicsubscriptionentityprovision.deadletter","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicsubscriptionentityprovision.deadletter#sbtopicsubscriptionentityprovisiondeadletter-property","content":" Define how the dead letter topic is provisioned (&quot;forwardDeadLetteredMessagesTo&quot;) &gt; Relevant only when &quot;forwardDeadLetteredMessagesTo&quot; has a value.  Signature:  deadLetter?: SbLinkedEntityProvisionOption;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbtopicmetadataoptions.provision","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicmetadataoptions.provision","content":"","keywords":"","version":"Next"},{"title":"SbTopicMetadataOptions.provision property​","type":1,"pageTitle":"nesbus.sbtopicmetadataoptions.provision","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicmetadataoptions.provision#sbtopicmetadataoptionsprovision-property","content":" Signature:  provision?: SbEntityProvisionOption&lt;SbTopicEntityProvision&gt;;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbsubscriptionmetadataoptions.provision","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscriptionmetadataoptions.provision","content":"","keywords":"","version":"Next"},{"title":"SbSubscriptionMetadataOptions.provision property​","type":1,"pageTitle":"nesbus.sbsubscriptionmetadataoptions.provision","url":"/node/nesbus/docs/api-docs/nesbus.sbsubscriptionmetadataoptions.provision#sbsubscriptionmetadataoptionsprovision-property","content":" Signature:  provision?: SbEntityProvisionOption&lt;SbTopicSubscriptionEntityProvision&gt;;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbtopicsubscriptionentityprovision.topic","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicsubscriptionentityprovision.topic","content":"","keywords":"","version":"Next"},{"title":"SbTopicSubscriptionEntityProvision.topic property​","type":1,"pageTitle":"nesbus.sbtopicsubscriptionentityprovision.topic","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicsubscriptionentityprovision.topic#sbtopicsubscriptionentityprovisiontopic-property","content":" Define how the topic for this subscription is provisioned. Unlike &quot;deadLetter&quot;, the default behavior is &quot;skip&quot; as it is usually the role of the topic's owner to create it.  Signature:  topic?: SbEntityProvisionOption&lt;SbTopicEntityProvision&gt;;  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbtopicsubscriptionentityprovision.rules","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicsubscriptionentityprovision.rules","content":"","keywords":"","version":"Next"},{"title":"SbTopicSubscriptionEntityProvision.rules property​","type":1,"pageTitle":"nesbus.sbtopicsubscriptionentityprovision.rules","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicsubscriptionentityprovision.rules#sbtopicsubscriptionentityprovisionrules-property","content":" A list of rules (actions/filters) to apply to the subscription or, a function that results a list of rules dynamically.  Signature:  rules?: SbRuleEntityProvision[] | ((topicName: string, subscriptionName: string) =&gt; SbRuleEntityProvision[]);  ","version":"Next","tagName":"h2"},{"title":"nesbus.sbtopicsubscriptionentityprovision","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicsubscriptionentityprovision","content":"","keywords":"","version":"Next"},{"title":"SbTopicSubscriptionEntityProvision interface​","type":1,"pageTitle":"nesbus.sbtopicsubscriptionentityprovision","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicsubscriptionentityprovision#sbtopicsubscriptionentityprovision-interface","content":" Signature:  export interface SbTopicSubscriptionEntityProvision extends SbEntityProvision&lt;SbSubscription&gt;   Extends: SbEntityProvision&lt;SbSubscription&gt;  ","version":"Next","tagName":"h2"},{"title":"Properties​","type":1,"pageTitle":"nesbus.sbtopicsubscriptionentityprovision","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicsubscriptionentityprovision#properties","content":" Property Modifiers Type Description deadLetter? SbLinkedEntityProvisionOption (Optional) Define how the dead letter topic is provisioned (&quot;forwardDeadLetteredMessagesTo&quot;) &gt; Relevant only when &quot;forwardDeadLetteredMessagesTo&quot; has a value. forward? SbLinkedEntityProvisionOption (Optional) Define how the forward queue/topic is provisioned (&quot;forwardTo&quot;) &gt; Relevant only when &quot;forwardTo&quot; has a value. rules? SbRuleEntityProvision[] | ((topicName: string, subscriptionName: string) =&gt; SbRuleEntityProvision[]) (Optional) A list of rules (actions/filters) to apply to the subscription or, a function that results a list of rules dynamically. topic? SbEntityProvisionOption&lt;SbTopicEntityProvision&gt; (Optional) Define how the topic for this subscription is provisioned. Unlike &quot;deadLetter&quot;, the default behavior is &quot;skip&quot; as it is usually the role of the topic's owner to create it. ","version":"Next","tagName":"h2"},{"title":"nesbus.sbtopicsubscriptionentityprovision.forward","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicsubscriptionentityprovision.forward","content":"","keywords":"","version":"Next"},{"title":"SbTopicSubscriptionEntityProvision.forward property​","type":1,"pageTitle":"nesbus.sbtopicsubscriptionentityprovision.forward","url":"/node/nesbus/docs/api-docs/nesbus.sbtopicsubscriptionentityprovision.forward#sbtopicsubscriptionentityprovisionforward-property","content":" Define how the forward queue/topic is provisioned (&quot;forwardTo&quot;) &gt; Relevant only when &quot;forwardTo&quot; has a value.  Signature:  forward?: SbLinkedEntityProvisionOption;  ","version":"Next","tagName":"h2"},{"title":"nesbus.servicebusmodule.onmoduleinit","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule.onmoduleinit","content":"","keywords":"","version":"Next"},{"title":"ServiceBusModule.onModuleInit() method​","type":1,"pageTitle":"nesbus.servicebusmodule.onmoduleinit","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule.onmoduleinit#servicebusmoduleonmoduleinit-method","content":" Signature:  onModuleInit(): Promise&lt;void&gt;;   Returns:  Promise&lt;void&gt; ","version":"Next","tagName":"h2"},{"title":"nesbus.servicebusmodule._constructor_","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule._constructor_","content":"","keywords":"","version":"Next"},{"title":"nesbus.servicebusmodule","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule","content":"","keywords":"","version":"Next"},{"title":"ServiceBusModule class​","type":1,"pageTitle":"nesbus.servicebusmodule","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule#servicebusmodule-class","content":" Signature:  export declare class ServiceBusModule implements OnModuleInit, OnModuleDestroy   Implements: OnModuleInit, OnModuleDestroy  ","version":"Next","tagName":"h2"},{"title":"Constructors​","type":1,"pageTitle":"nesbus.servicebusmodule","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule#constructors","content":" Constructor Modifiers Description (constructor)(discoveryFactory, errorHandler, metadataHelper, clientOptions, serverOptions) Constructs a new instance of the ServiceBusModule class  ","version":"Next","tagName":"h2"},{"title":"Methods​","type":1,"pageTitle":"nesbus.servicebusmodule","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule#methods","content":" Method Modifiers Description onModuleDestroy() onModuleInit() register(options) static Register a service bus server/s that will be used as the underlying resources to generate Queue &amp; Subscription listeners. You can provide multiple server configurations, however make sure that each of them has a unique name. Note that not setting a name is a unique name by itself. ","version":"Next","tagName":"h2"},{"title":"ServiceBusModule.(constructor)​","type":1,"pageTitle":"nesbus.servicebusmodule._constructor_","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule._constructor_#servicebusmoduleconstructor","content":" Constructs a new instance of the ServiceBusModule class  Signature:  constructor(discoveryFactory: SbDiscoveryFactoryService, errorHandler?: SbErrorHandler, metadataHelper?: any, clientOptions?: SbClientOptions[], serverOptions?: SbServerOptions[]);   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.servicebusmodule._constructor_","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule._constructor_#parameters","content":" Parameter Type Description discoveryFactory SbDiscoveryFactoryService errorHandler SbErrorHandler (Optional) metadataHelper any (Optional) clientOptions SbClientOptions[] (Optional) serverOptions SbServerOptions[] (Optional) ","version":"Next","tagName":"h2"},{"title":"nesbus.servicebusmodule.onmoduledestroy","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule.onmoduledestroy","content":"","keywords":"","version":"Next"},{"title":"ServiceBusModule.onModuleDestroy() method​","type":1,"pageTitle":"nesbus.servicebusmodule.onmoduledestroy","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule.onmoduledestroy#servicebusmoduleonmoduledestroy-method","content":" Signature:  onModuleDestroy(): Promise&lt;void&gt;;   Returns:  Promise&lt;void&gt; ","version":"Next","tagName":"h2"},{"title":"nesbus.servicebusmodule.register","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule.register","content":"","keywords":"","version":"Next"},{"title":"ServiceBusModule.register() method​","type":1,"pageTitle":"nesbus.servicebusmodule.register","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule.register#servicebusmoduleregister-method","content":" Register a service bus server/s that will be used as the underlying resources to generate Queue &amp; Subscription listeners.  You can provide multiple server configurations, however make sure that each of them has a unique name. Note that not setting a name is a unique name by itself.  Signature:  static register(options: SbModuleRegisterOptions): DynamicModule;   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.servicebusmodule.register","url":"/node/nesbus/docs/api-docs/nesbus.servicebusmodule.register#parameters","content":" Parameter Type Description options SbModuleRegisterOptions   Returns:  DynamicModule ","version":"Next","tagName":"h2"},{"title":"Installation","type":0,"sectionRef":"#","url":"/node/nesbus/docs/getting-started/installation","content":"Installation To get started install the package: YarnNPM $ yarn add @pebula/nesbus Now we need to configure the register the library with NestJS and start binding to Service Bus entities...","keywords":"","version":"Next"},{"title":"nesbus.subscription","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.subscription","content":"","keywords":"","version":"Next"},{"title":"nesbus.topic","type":0,"sectionRef":"#","url":"/node/nesbus/docs/api-docs/nesbus.topic","content":"","keywords":"","version":"Next"},{"title":"Topic() function​","type":1,"pageTitle":"nesbus.topic","url":"/node/nesbus/docs/api-docs/nesbus.topic#topic-function","content":" Subscribes to incoming events from a topic  Signature:  Topic: (metadata: MetaOrMetaFactory&lt;SbTopicMetadataOptions&gt;) =&gt; PropertyDecorator   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.topic","url":"/node/nesbus/docs/api-docs/nesbus.topic#parameters","content":" Parameter Type Description metadata MetaOrMetaFactory&lt;SbTopicMetadataOptions&gt;   Returns:  PropertyDecorator ","version":"Next","tagName":"h2"},{"title":"Subscription() function​","type":1,"pageTitle":"nesbus.subscription","url":"/node/nesbus/docs/api-docs/nesbus.subscription#subscription-function","content":" Subscribes to incoming events from a topic  Signature:  export declare function Subscription&lt;T = false&gt;(metadata: MetaOrMetaFactory&lt;SbSubscriptionMetadataOptions&gt;): PropOrMethodDecorator&lt;T, MethodDecorator&gt;;   ","version":"Next","tagName":"h2"},{"title":"Parameters​","type":1,"pageTitle":"nesbus.subscription","url":"/node/nesbus/docs/api-docs/nesbus.subscription#parameters","content":" Parameter Type Description metadata MetaOrMetaFactory&lt;SbSubscriptionMetadataOptions&gt;   Returns:  PropOrMethodDecorator&lt;T, MethodDecorator&gt; ","version":"Next","tagName":"h2"},{"title":"Declaration","type":0,"sectionRef":"#","url":"/node/nesbus/docs/guide/declaration","content":"Declaration","keywords":"","version":"Next"},{"title":"Configuration","type":0,"sectionRef":"#","url":"/node/nesbus/docs/guide/configuration","content":"Configuration","keywords":"","version":"Next"},{"title":"Emitters","type":0,"sectionRef":"#","url":"/node/nesbus/docs/guide/emitters","content":"Emitters","keywords":"","version":"Next"},{"title":"Interceptors","type":0,"sectionRef":"#","url":"/node/nesbus/docs/guide/interceptors","content":"Interceptors","keywords":"","version":"Next"},{"title":"Introduction","type":0,"sectionRef":"#","url":"/node/nesbus/docs/getting-started/introduction","content":"","keywords":"","version":"Next"},{"title":"Message Handling​","type":1,"pageTitle":"Introduction","url":"/node/nesbus/docs/getting-started/introduction#message-handling","content":" Handling incoming service bus message is now as easy as handling incoming REST requests.  @Controller() export class ServiceBusController { @Queue&lt;MethodDecorator&gt;(({ name: 'nesbus-queue.demo' }) async myQueueEntity(@Ctx() context: SbContext) { } }   ","version":"Next","tagName":"h3"},{"title":"Client Emitters​","type":1,"pageTitle":"Introduction","url":"/node/nesbus/docs/getting-started/introduction#client-emitters","content":" Defining service bus emitters (Sender) requires no logic, you can compose a client emitter in seconds:  @Injectable() export class ServiceBusEmitClient { @QueueEmitter({ name: 'nesbus-queue.demo' }) myQueueEntity: Sender; }   ","version":"Next","tagName":"h3"},{"title":"Easy Setup​","type":1,"pageTitle":"Introduction","url":"/node/nesbus/docs/getting-started/introduction#easy-setup","content":" The library also helps with service bus entity management through a declarative API for automatic creation of service bus entities based on the entities we define in the controllers / services in our application.  We call it provision. [Read more...]  This allows a code-first approach for service bus management and architecture.  ","version":"Next","tagName":"h3"},{"title":"Leverage Advanced Architecture Patterns​","type":1,"pageTitle":"Introduction","url":"/node/nesbus/docs/getting-started/introduction#leverage-advanced-architecture-patterns","content":" By simplifying the work with service bus, Nesbus enables the use of more advanced architecture patterns that you can use to manage the flow of your application.  Using Observables you can now implement a CQRS or Event Sourcing models out of the box. In addition, Observables along with Interceptors allow us to use plugins that encapsulate behaviors for us.  For example, the SbBackoffRetry plugin wraps incoming service bus messages and handles them when their handler throws. It will perform a retry to handle them again but with a delay between each try. The delay is not constant and it is based on an algorithm (linear / exponential) so the effect of periodic stress on you server is reduced.  ","version":"Next","tagName":"h3"},{"title":"NOTE: @azure/service-bus@7​","type":1,"pageTitle":"Introduction","url":"/node/nesbus/docs/getting-started/introduction#note-azureservice-bus7","content":" info @pebula/nesbus supports @azure/service-bus@1.1.6. The azure team is currently working on a re-redesigned library, currently in preview (7.0.0-preview.2). Once version 7 becomes official, @pebula/nesbus will support it, with limited backward compatibility to v1 (critical bugs only). Since version 7 comes with significant breaking changes you should expect some changes in nesbus as well while some will not get noticed due to the abstraction. ","version":"Next","tagName":"h2"},{"title":"Receivers","type":0,"sectionRef":"#","url":"/node/nesbus/docs/guide/receivers","content":"","keywords":"","version":"Next"},{"title":"The Context","type":0,"sectionRef":"#","url":"/node/nesbus/docs/guide/the-context","content":"The Context","keywords":"","version":"Next"},{"title":"Method Handlers (old-school)​","type":1,"pageTitle":"Receivers","url":"/node/nesbus/docs/guide/receivers#method-handlers-old-school","content":" ","version":"Next","tagName":"h2"},{"title":"Reactive Handlers​","type":1,"pageTitle":"Receivers","url":"/node/nesbus/docs/guide/receivers#reactive-handlers","content":"","version":"Next","tagName":"h2"},{"title":"Dynamic Entity Configuration","type":0,"sectionRef":"#","url":"/node/nesbus/docs/recipes/dynamic-entity-configuration","content":"Dynamic Entity Configuration","keywords":"","version":"Next"},{"title":"Basic Usage","type":0,"sectionRef":"#","url":"/node/nesbus/docs/getting-started/basic-example","content":"","keywords":"","version":"Next"},{"title":"Configuration​","type":1,"pageTitle":"Basic Usage","url":"/node/nesbus/docs/getting-started/basic-example#configuration","content":" main.tsapp.module.ts import { createSbServer } from '@pebula/nesbus'; import { NestFactory } from '@nestjs/core'; import { AppModule } from './app.module'; async function bootstrap() { const app = await NestFactory.create(AppModule); app.connectMicroservice({ strategy: createSbServer() }); await app.startAllMicroservicesAsync(); await app.listen(3000); } bootstrap();   ","version":"Next","tagName":"h2"},{"title":"Client (emitting)​","type":1,"pageTitle":"Basic Usage","url":"/node/nesbus/docs/getting-started/basic-example#client-emitting","content":" import { Injectable } from '@nestjs/common'; import { Sender } from '@azure/service-bus'; import { QueueEmitter, Topic } from '@pebula/nesbus'; @Injectable() export class ServiceBusEmitClient { @QueueEmitter({ name: 'nesbus-queue.demo' }) myQueueEntity: Sender; @Topic({ name: 'nesbus-topic.demo' }) myTopicEntity: Sender; }   After you add this to your module providers list you can import it anywhere in your app and start emitting to service bus.  ","version":"Next","tagName":"h2"},{"title":"Server (receiving)​","type":1,"pageTitle":"Basic Usage","url":"/node/nesbus/docs/getting-started/basic-example#server-receiving","content":" import { Controller } from '@nestjs/common'; import { Queue, Subscription, Ctx, SbContext } from '@pebula/nesbus'; @Controller() export class ServiceBusController { @Queue&lt;MethodDecorator&gt;({ name: 'nesbus-queue.demo', handlerOptions: { autoComplete: false, }, }) async myQueueEntity(@Ctx() context: SbContext) { await context.getMessage().complete(); } @Subscription&lt;MethodDecorator&gt;(({ name: 'nesbus-topic.demo' }) async myTopicEntity(@Ctx() context: SbContext) { } }   Same way you define your REST routes... Bind a handler function to an incoming channel.  ","version":"Next","tagName":"h2"},{"title":"Using Reactive Handlers​","type":1,"pageTitle":"Basic Usage","url":"/node/nesbus/docs/getting-started/basic-example#using-reactive-handlers","content":" import { Observable } from 'rxjs'; import { switchMap, tap } from 'rxjs/operators'; import { Controller } from '@nestjs/common'; import { Queue, Subscription, SbContext } from '@pebula/nesbus'; @Controller() export class ServiceBusController { @Queue({ name: 'nesbus-queue.demo', handlerOptions: { autoComplete: false, }, }) myQueueEntity = (source: Observable&lt;SbContext&gt;) =&gt; source .pipe( switchMap( async context =&gt; { await context.getMessage().complete(); }), ) @Subscription(({ name: 'nesbus-topic.demo' }) myTopicEntity = (source: Observable&lt;SbContext&gt;) =&gt; source .pipe( tap( async context =&gt; { }), ) }   Using reactive handlers to chain the logic of your application.  This design allows using nesbus interceptors which act as plugins and can add a lot of functionality to your code with little effort.  tip The reactive handler pattern works great with the @nestjs/cqrs module and in general most of the event driven designs out there. You can easily implement event sourcing with it. ","version":"Next","tagName":"h3"},{"title":"Backoff And Retry","type":0,"sectionRef":"#","url":"/node/nesbus/docs/tasks/back-off","content":"","keywords":"","version":"Next"},{"title":"Why​","type":1,"pageTitle":"Backoff And Retry","url":"/node/nesbus/docs/tasks/back-off#why","content":" Sometimes the server might be overwhelmed by a large number of message being processed at the same time. This can cause processing errors in various areas such as database, file system, network connection, etc...  Once a message fails, it will go back to service bus which will re-emit it immediately or throw it to a dead-letter pool.  Re-emitting the message is not good because our server is still stressed out, it is best to retry it laster, but how much later?  If we delay 5 seconds and we have multiple failed message we will hit the same scenario again, if we delay with the same static interval on every failed attempt we might sync our retries with another process running in cycle.  What we need is chaos, re-emitting the messages at an increasing interval with each level getting a little distortion so it becomes a bit unpredictable.  ","version":"Next","tagName":"h2"},{"title":"SbBackoffRetry​","type":1,"pageTitle":"Backoff And Retry","url":"/node/nesbus/docs/tasks/back-off#sbbackoffretry","content":" This is where the SbBackoffRetry plugin comes in.  It wraps the the incoming bus message handling and wait's for errors. When error is thrown it will re-emit the message but with a certain delay, calculated based on your configuration.  ","version":"Next","tagName":"h2"},{"title":"Backoff Algorithm​","type":1,"pageTitle":"Backoff And Retry","url":"/node/nesbus/docs/tasks/back-off#backoff-algorithm","content":" The calculated delay is effected by 2 values:  The current retry iteration (e.g. 1st try, 2nd try, 3rd try, nth try);The plugin configuration  The configuration is defined in SbBackoffRetryOptions:  delay: the baseline interval(ms) to wait between each attemptdelayType: 'linear' for linear increments in the delay between each retry. 'exponential' for exponential increments in the delay between each retryfactor: a multiplier for the delay (mostly effective in exponential delay)distortFactor: how much randomness to introduce into the interval (higher value === more randomness). For example, with a distortFactor of 10, the final delay will be multiplied by a value between 0.9 to 1.1  @Controller() export class ServiceBusController { @Queue&lt;MethodDecorator&gt;(({ name: 'nesbus-queue.demo' }) @SbIntercept(new SbBackoffRetry({ retryCount: 3, factor: 1, delayType: 'linear' })) testQueue3 = (source: Observable&lt;SbContext&gt;) =&gt; source .pipe( tap( context =&gt; { const msg = context.getMessage(); throw new Error(`backoff ${msg.messageId}`); }), ) }   warning Because Transactions are not yet supported by @azure/service-bus usingSbBackoffRetry comes with a little risk. SbBackoffRetry will emit a clone the original message and emit the cloned message upon retry, after then it will complete the failed message. If emitting the closed message succeed but completing the failed message fails there will be 2 messages (with the same id) in the system. This can be solved by enabling duplication checks but in any case once Transactions are out they will be used to eliminate this issue ","version":"Next","tagName":"h3"},{"title":"Introduction","type":0,"sectionRef":"#","url":"/node/nesbus/docs/tasks/introduction","content":"Introduction","keywords":"","version":"Next"},{"title":"Idempotent Subscriber","type":0,"sectionRef":"#","url":"/node/nesbus/docs/tasks/idempotent-subscriber","content":"Idempotent Subscriber","keywords":"","version":"Next"},{"title":"Provisioning","type":0,"sectionRef":"#","url":"/node/nesbus/docs/guide/provisioning","content":"","keywords":"","version":"Next"},{"title":"Basic Provisioning​","type":1,"pageTitle":"Provisioning","url":"/node/nesbus/docs/guide/provisioning#basic-provisioning","content":" The most basic provision configuration is to decide what level of provisioning are we doing:  skip [default] - provision is disabledverify - verify entity exists when the server bootstraps, throw if it does not exist (eager check)verifyCreate - verify entity exists when the server bootstraps, create the entity if it does not exists  @Controller() export class ServiceBusController { @Queue&lt;MethodDecorator&gt;(({ name: 'nesbus-queue.demo', provision: 'verifyCreate' // or 'skip' or 'verify' }) async myQueueEntity(@Ctx() context: SbContext) { } }   This is a valid configuration but it is not enough by itself.  What happens when the library detects that an entity does not exist and it needs to create it? Creating a new service bus entity require additional configuration.  Moreover, the configuration we need is based on the type of the entity, i.e. creating a subscription is different than creating a queue.  info That being said, setting provision: 'verifyCreate' is a valid definition with the help of a small adapter, more on this in a couple of paragraphs.  ","version":"Next","tagName":"h2"},{"title":"Management Clients​","type":1,"pageTitle":"Provisioning","url":"/node/nesbus/docs/guide/provisioning#management-clients","content":" Verifying and/or creating entities requires management capabilities so we can create/update entities in service bus. To enable provisioning we must provide a management configuration otherwise it is disabled.  There are currently 2 management clients available:  ","version":"Next","tagName":"h2"},{"title":"ARM Client​","type":1,"pageTitle":"Provisioning","url":"/node/nesbus/docs/guide/provisioning#arm-client","content":" The official service bus management package offered by azure, when using this client you must install the package:  YarnNPM $ yarn add @azure/arm-servicebus   Then configure the management client when registering the module we need to provide the management configuration SbManagementClientArmOptions:  import { ApplicationTokenCredentials } from '@azure/ms-rest-nodeauth'; import { Module } from '@nestjs/common'; import { ServiceBusModule, SbServerOptions } from '@pebula/nesbus'; const sbServerOptions: SbServerOptions[] = [ { client: { /* Client configuration options... */ }, management: { credentials: { host: 'my-service-bus.servicebus.windows.net, resourceGroupName: 'NorthEurope', namespace: 'my-service-bus', subscriptionId: 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx', credentials: new ApplicationTokenCredentials( 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx', // clientId, 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx', // tenantId, 'K2.329cnlw3293:#@Mc2EK#)CKE', // clientSecret, ), }, }, }, ]; @Module({ imports: [ ServiceBusModule.register({ servers: sbServerOptions }), ], }) export class AppModule {}   tip In this example, the credentials used are ApplicationTokenCredentials but you can use any token credentials object which implements the getToken() interface. In most cases, one of the following from the @azure/ms-rest-nodeauth package: ApplicationTokenCredentialsUserTokenCredentialsDeviceTokenCredentialsMSITokenCredentials Token audience (or resource in case of MSI based credentials) to use when creating the credentials is https://servicebus.azure.net/ For more details see the API Docs for ServiceBusManagementAadTokenCredentials  warning @azure/arm-servicebus supports authentication &amp; authorization through azure active directory. This has 2 limitations: You will need to manage permissions through azure's role based authorization model.You can not use connection strings to connect to service bus.  ","version":"Next","tagName":"h3"},{"title":"ATOM Client (experimental)​","type":1,"pageTitle":"Provisioning","url":"/node/nesbus/docs/guide/provisioning#atom-client-experimental","content":" The ATOM Client is a management client the uses and authentication and authorization model based on a connection string, which is not possible when using the @azure/arm-servicebus library.  The client is in development by the @azure/service-bus team and is planned to release with the @azure/service-bus pacakge.  The client itself is operational but not publicly exposed.  To allow using it today, nesbus includes a copy of the ATOM client from the @azure/service-bus repository, with no changes. Once officially released the copy will be removed and the original ATOM client will be used instead. If things go as planned this will go unnoticed, without breaking changes.  import { Module } from '@nestjs/common'; import { ServiceBusModule, SbServerOptions } from '@pebula/nesbus'; const sbServerOptions: SbServerOptions[] = [ { client: { /* Client configuration options... */ }, management: { credentials: { connectionString: 'MY-SAS-CONNECTION-STRING', }, }, }, ]; @Module({ imports: [ ServiceBusModule.register({ servers: sbServerOptions }), ], }) export class AppModule {}   ","version":"Next","tagName":"h3"},{"title":"Entity Creation Configuration​","type":1,"pageTitle":"Provisioning","url":"/node/nesbus/docs/guide/provisioning#entity-creation-configuration","content":" Instead of setting provision: 'verifyCreate' we can set provision to an object that contains the configuration required when creating an entity:  @Controller() export class ServiceBusController { @Queue&lt;MethodDecorator&gt;(({ name: 'nesbus-queue.demo', provision: { type: 'verifyCreate', params: { /* Default, entity specific, values */ deadLetteringOnMessageExpiration: true, maxSizeInMegabytes: 1024, defaultMessageTtl: 'P14D', lockDuration: 'PT5M', } /* ... Additional, entity specific, provisioning values */ } }) async myQueueEntity(@Ctx() context: SbContext) { } }   ","version":"Next","tagName":"h2"},{"title":"Params​","type":1,"pageTitle":"Provisioning","url":"/node/nesbus/docs/guide/provisioning#params","content":" The params property is an object that defines the default values that each entity instance will have when created.  This type differs based on the provision context, i.e. the decorator used.  For Queue see SBQueueFor Topic see SBTopicFor Subscription see SBSubscription  ","version":"Next","tagName":"h3"},{"title":"Additional Provision Configuration​","type":1,"pageTitle":"Provisioning","url":"/node/nesbus/docs/guide/provisioning#additional-provision-configuration","content":" The additional provision configuration also depends on the entity being provisioned.  For example, a Subscription is a child entity of Topic, you can create a nested provision option to also run a provision to make sure that the topic exists.  See the API docs for more details:  SbQueueEntityProvisionSbTopicEntityProvisionSbTopicSubscriptionEntityProvisionSbRuleEntityProvision  ","version":"Next","tagName":"h3"},{"title":"Entity Configuration Adapter​","type":1,"pageTitle":"Provisioning","url":"/node/nesbus/docs/guide/provisioning#entity-configuration-adapter","content":" We've started with a simple provision definition: provision: 'verifyCreate'. In most cases, our entities will have the same setup, wouldn't it be great to have all of this set from one place and use the simple definition?  We can do this by providing an special adapter that the management client will use, when creating new entities.  We register the adapter along with the management options we provide when registering a management client:  import { Module } from '@nestjs/common'; import { ServiceBusModule, SbServerOptions, SbManagementDefaultsAdapter } from '@pebula/nesbus'; const defaults: SbManagementDefaultsAdapter = { /* ... */ }; const sbServerOptions: SbServerOptions[] = [ { client: { /* Client configuration options... */ }, management: { credentials: { connectionString: 'MY-SAS-CONNECTION-STRING', }, defaults, // Here we register the default configuration for entities. }, }, ]; @Module({ imports: [ ServiceBusModule.register({ servers: sbServerOptions }), ], }) export class AppModule {}   The adapter contains an entities property, with a definition for each type of entity:   entities?: { queue?: SbQueue; topic?: SbTopic; subscription?: SbSubscription; };   These values will go to the params property in the provision definition.  In addition, an optional handler can be set to handle the creation of new rules when a new subscription is created.  For more information, read the API Docs for SbManagementDefaultsAdapter ","version":"Next","tagName":"h2"}],"options":{"id":"default"}}