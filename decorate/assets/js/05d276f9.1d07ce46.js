(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{67:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return c})),r.d(t,"metadata",(function(){return i})),r.d(t,"toc",(function(){return l})),r.d(t,"default",(function(){return p}));var a=r(3),o=r(8),n=(r(0),r(92)),c={id:"decorator-api-suite",title:"Decorator API Suite",sidebar_label:"2. Decorator API Suite"},i={unversionedId:"decorate-fluent/decorator-api-suite",id:"decorate-fluent/decorator-api-suite",isDocsHomePage:!1,title:"Decorator API Suite",description:"The decorator API suite is where we glue all of the decorator APIs together and produce the decorator functions.",source:"@site/docs/decorate-fluent/decorator-api-suite.md",slug:"/decorate-fluent/decorator-api-suite",permalink:"/node/decorate/docs/decorate-fluent/decorator-api-suite",editUrl:"https://github.com/pebula/node/tree/main/apps/docs/decorate/docs/docs/decorate-fluent/decorator-api-suite.md",version:"current",sidebar_label:"2. Decorator API Suite",sidebar:"someSidebar",previous:{title:"Introduction",permalink:"/node/decorate/docs/decorate-fluent/introduction"},next:{title:"Decorator API Class",permalink:"/node/decorate/docs/decorate-fluent/decorator-api-class"}},l=[{value:"Suite Decorators",id:"suite-decorators",children:[]},{value:"Decorator API Class",id:"decorator-api-class",children:[]},{value:"API Suite Store",id:"api-suite-store",children:[]}],s={toc:l};function p(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(n.b)("wrapper",Object(a.a)({},s,r,{components:t,mdxType:"MDXLayout"}),Object(n.b)("p",null,"The decorator API suite is where we glue all of the decorator APIs together and produce the decorator functions."),Object(n.b)("p",null,"The actual output we need is the decorator we supply to the end user."),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-typescript"},"class X {\n  @P.optional.default(50) value: number\n}\n")),Object(n.b)("p",null,"We also need a way to access the ",Object(n.b)("strong",{parentName:"p"},"Schema Configuration")," for a given type."),Object(n.b)("p",null,"It generally looks like this:"),Object(n.b)("pre",null,Object(n.b)("code",{parentName:"pre",className:"language-typescript"},"import { DecorApiSuite } from '@pebula/decorate/fluent';\n\nexport const suite = DecorApiSuite.create()\n  .forClass(MyClassDecoratorFluentApiClass)            // Fluent Decorator API for a class decorator\n  .forProperty(MyPropertyDecoratorFluentApiClass);     // Fluent Decorator API for a property decorator\n\nexport const C = suite.classApi;\nexport const P = suite.propertyApi;\nexport const store = suite.store;\n")),Object(n.b)("p",null,"We will export ",Object(n.b)("inlineCode",{parentName:"p"},"C")," & ",Object(n.b)("inlineCode",{parentName:"p"},"P")," to the end-user and use ",Object(n.b)("inlineCode",{parentName:"p"},"store")," to query for ",Object(n.b)("inlineCode",{parentName:"p"},"Schema Configuration"),"."),Object(n.b)("h2",{id:"suite-decorators"},"Suite Decorators"),Object(n.b)("p",null,"As you might have noticed, in the previous example we exported 2 decorators, not 1.",Object(n.b)("br",{parentName:"p"}),"\n","Actually, there are 4 types of decorators, based on the different decorators that exist in the language."),Object(n.b)("p",null,"There is a clear separation between the different decorator types in TypeScript.",Object(n.b)("br",{parentName:"p"}),"\n","Each decorator type has a unique API."),Object(n.b)("div",{className:"admonition admonition-info alert alert--info"},Object(n.b)("div",{parentName:"div",className:"admonition-heading"},Object(n.b)("h5",{parentName:"div"},Object(n.b)("span",{parentName:"h5",className:"admonition-icon"},Object(n.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(n.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"The 4 Decorators Are:")),Object(n.b)("div",{parentName:"div",className:"admonition-content"},Object(n.b)("ul",{parentName:"div"},Object(n.b)("li",{parentName:"ul"},"Class decorator"),Object(n.b)("li",{parentName:"ul"},"Property Decorator"),Object(n.b)("li",{parentName:"ul"},"Method Decorator"),Object(n.b)("li",{parentName:"ul"},"Parameter Decorator")))),Object(n.b)("p",null,"Each decorator is a unique API, built from a decorator API class which represent the API structure.",Object(n.b)("br",{parentName:"p"}),"\n","Going back to our example:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("inlineCode",{parentName:"li"},"C")," will expose the fluent api defined in ",Object(n.b)("inlineCode",{parentName:"li"},"MyClassDecoratorFluentApiClass")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("inlineCode",{parentName:"li"},"P")," will expose the fluent api defined in ",Object(n.b)("inlineCode",{parentName:"li"},"MyPropertyDecoratorFluentApiClass"))),Object(n.b)("p",null,"We've only used 2 in this case but you can use all 4 if required."),Object(n.b)("h2",{id:"decorator-api-class"},"Decorator API Class"),Object(n.b)("p",null,Object(n.b)("inlineCode",{parentName:"p"},"MyClassDecoratorFluentApiClass")," & ",Object(n.b)("inlineCode",{parentName:"p"},"MyPropertyDecoratorFluentApiClass")," are Fluent Decorator API classes.  "),Object(n.b)("p",null,"The structure of ",Object(n.b)("inlineCode",{parentName:"p"},"MyPropertyDecoratorFluentApiClass")," class will get reflected in ",Object(n.b)("inlineCode",{parentName:"p"},"P")," as if ",Object(n.b)("inlineCode",{parentName:"p"},"P")," is an instance of ",Object(n.b)("inlineCode",{parentName:"p"},"MyPropertyDecoratorFluentApiClass")," as well as a property decorator method.  "),Object(n.b)("p",null,"The Decorator API class holds the structure of the API as well as the implementation of the plugins and the schema configuration class."),Object(n.b)("p",null,"On to the next page to learn more about the Decorator API class."),Object(n.b)("h2",{id:"api-suite-store"},"API Suite Store"),Object(n.b)("p",null,"The store is simply where all ",Object(n.b)("strong",{parentName:"p"},"Schema Configuration")," objects are stored, mapped to their respective target."))}p.isMDXComponent=!0},92:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return m}));var a=r(0),o=r.n(a);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r,a,o={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=o.a.createContext({}),p=function(e){var t=o.a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=p(e.components);return o.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},b=o.a.forwardRef((function(e,t){var r=e.components,a=e.mdxType,n=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(r),b=a,m=u["".concat(c,".").concat(b)]||u[b]||d[b]||n;return r?o.a.createElement(m,i(i({ref:t},s),{},{components:r})):o.a.createElement(m,i({ref:t},s))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var n=r.length,c=new Array(n);c[0]=b;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:a,c[1]=i;for(var s=2;s<n;s++)c[s]=r[s];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,r)}b.displayName="MDXCreateElement"}}]);