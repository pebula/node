"use strict";(self.webpackChunkdocs_goosetyped=self.webpackChunkdocs_goosetyped||[]).push([[8463],{5481:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>i,contentTitle:()=>a,default:()=>p,frontMatter:()=>d,metadata:()=>r,toc:()=>l});var t=n(6870),s=n(5569);const d={id:"hooks",title:"Middleware (Hooks)",sidebar_label:"2. Middleware (Hooks)"},a="WIP",r={id:"advanced/hooks",title:"Middleware (Hooks)",description:"Document Hooks",source:"@site/docs/advanced/hooks.md",sourceDirName:"advanced",slug:"/advanced/hooks",permalink:"/node/goosetyped/docs/advanced/hooks",draft:!1,unlisted:!1,editUrl:"https://github.com/pebula/node/tree/main/apps/docs/goosetyped/docs/docs/advanced/hooks.md",tags:[],version:"current",frontMatter:{id:"hooks",title:"Middleware (Hooks)",sidebar_label:"2. Middleware (Hooks)"},sidebar:"sidebar",previous:{title:"1. Indexes",permalink:"/node/goosetyped/docs/advanced/indexes"},next:{title:"3. Discriminators",permalink:"/node/goosetyped/docs/advanced/discriminators"}},i={},l=[{value:"Document Hooks",id:"document-hooks",level:2},{value:"Init Hook",id:"init-hook",level:3},{value:"Validate, Save, Remove, DeleteOne, UpdateOne Hooks",id:"validate-save-remove-deleteone-updateone-hooks",level:3},{value:"Model Hooks",id:"model-hooks",level:2},{value:"InsertMany Hook",id:"insertmany-hook",level:3},{value:"Aggregation Hooks",id:"aggregation-hooks",level:2},{value:"Query Hooks",id:"query-hooks",level:2}];function c(e){const o={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.h1,{id:"wip",children:"WIP"}),"\n",(0,t.jsx)(o.h2,{id:"document-hooks",children:"Document Hooks"}),"\n",(0,t.jsx)(o.h3,{id:"init-hook",children:"Init Hook"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Supports pre/post"}),"\n",(0,t.jsx)(o.li,{children:"Must be an instance method"}),"\n",(0,t.jsx)(o.li,{children:"Does not support async operation"}),"\n"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-typescript",children:"import { GtDocument, GtModel, GtInitHook } from '@pebula/goosetyped';\n\n@GtDocument()\nexport class Person extends GtModel() {\n\n  @GtColumn() name: string;\n\n  @GtInitHook('pre') preInitHook() { /* Do stuff... */ }\n  @GtInitHook('post') postInitHook() { /* Do stuff... */ }\n}\n"})}),"\n",(0,t.jsx)(o.h3,{id:"validate-save-remove-deleteone-updateone-hooks",children:"Validate, Save, Remove, DeleteOne, UpdateOne Hooks"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Supports pre/post"}),"\n",(0,t.jsx)(o.li,{children:"Must be an instance method"}),"\n",(0,t.jsx)(o.li,{children:"Support async operation"}),"\n"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-typescript",children:"import {\n  GtDocument,\n  GtModel,\n  GtValidateHook,\n  GtSaveHook,\n  GtRemoveHook,\n  GtDeleteOneHook,\n  GtUpdateOneHook,\n  } from '@pebula/goosetyped';\n\n@GtDocument()\nexport class Person extends GtModel() {\n  @GtColumn() name: string;\n\n  @GtValidateHook('pre') async preValidateHook() { /* Do stuff... */ }\n  @GtValidateHook('post') postValidateHook() { /* Do stuff... */ }\n\n  @GtSaveHook('pre') preSaveHook() { /* Do stuff... */ }\n  @GtSaveHook('post') async postSaveHook() { /* Do stuff... */ }\n\n  @GtRemoveHook('pre') async preRemoveHook() { /* Do stuff... */ }\n  @GtRemoveHook('post') postRemoveHook() { /* Do stuff... */ }\n\n  @GtDeleteOneHook('pre') async preDeleteOneHook() { /* Do stuff... */ }\n  @GtDeleteOneHook('post') postDeleteOneHook() { /* Do stuff... */ }\n\n  @GtUpdateOneHook('pre') preUpdateOneHook() { /* Do stuff... */ }\n  @GtUpdateOneHook('post') async postUpdateOneHook() { /* Do stuff... */ }\n}\n"})}),"\n",(0,t.jsx)(o.h2,{id:"model-hooks",children:"Model Hooks"}),"\n",(0,t.jsx)(o.h3,{id:"insertmany-hook",children:"InsertMany Hook"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Supports pre/post (different signatures)"}),"\n",(0,t.jsx)(o.li,{children:"Must be a static method"}),"\n",(0,t.jsx)(o.li,{children:"Support async operation"}),"\n"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-typescript",children:"import { GtDocument, GtModel, GtInsertManyHook } from '@pebula/goosetyped';\n\n@GtDocument()\nexport class Person extends GtModel() {\n\n  @GtColumn() name: string;\n\n  @GtInsertManyHook('pre')\n  static preInsertManyHook() { /* Do stuff... */ }\n\n  @GtInsertManyHook('post')\n  static postInsertManyHook(instances: Person[]) { /* Do stuff... */ }\n}\n"})}),"\n",(0,t.jsx)(o.h2,{id:"aggregation-hooks",children:"Aggregation Hooks"}),"\n",(0,t.jsx)(o.p,{children:"TBD"}),"\n",(0,t.jsx)(o.h2,{id:"query-hooks",children:"Query Hooks"}),"\n",(0,t.jsx)(o.p,{children:"TBD"})]})}function p(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},5569:(e,o,n)=>{n.d(o,{R:()=>a,x:()=>r});var t=n(6326);const s={},d=t.createContext(s);function a(e){const o=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(d.Provider,{value:o},e.children)}}}]);